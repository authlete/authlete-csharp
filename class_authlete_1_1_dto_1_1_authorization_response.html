<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Authlete: AuthorizationResponse Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Authlete
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_authlete_1_1_dto_1_1_authorization_response.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#properties">Properties</a> &#124;
<a href="class_authlete_1_1_dto_1_1_authorization_response-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AuthorizationResponse Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Response from Authlete's <code>/api/auth/authorization</code> API.  
 <a href="class_authlete_1_1_dto_1_1_authorization_response.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for AuthorizationResponse:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_authlete_1_1_dto_1_1_authorization_response.png" usemap="#AuthorizationResponse_map" alt=""/>
  <map id="AuthorizationResponse_map" name="AuthorizationResponse_map">
<area href="class_authlete_1_1_dto_1_1_api_response.html" title="The base class for classes that represent responses from Authlete APIs. " alt="ApiResponse" shape="rect" coords="0,0,141,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a9155f3433a19c83c915e1fae0c58ab48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_authlete_1_1_dto.html#a25d4830acda62615a4de107e1694e031">AuthorizationAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a9155f3433a19c83c915e1fae0c58ab48">Action</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a9155f3433a19c83c915e1fae0c58ab48"><td class="mdescLeft">&#160;</td><td class="mdescRight">The next action that the authorization server implementation should take.  <a href="#a9155f3433a19c83c915e1fae0c58ab48">More...</a><br /></td></tr>
<tr class="separator:a9155f3433a19c83c915e1fae0c58ab48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ea174afa546a13bf8dc33eb972950f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_authlete_1_1_dto_1_1_service.html">Service</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#aa7ea174afa546a13bf8dc33eb972950f">Service</a><code> [get, set]</code></td></tr>
<tr class="memdesc:aa7ea174afa546a13bf8dc33eb972950f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The information about the service.  <a href="#aa7ea174afa546a13bf8dc33eb972950f">More...</a><br /></td></tr>
<tr class="separator:aa7ea174afa546a13bf8dc33eb972950f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a530ccc180ea96308b8cfba8b34c19144"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_authlete_1_1_dto_1_1_client.html">Client</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a530ccc180ea96308b8cfba8b34c19144">Client</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a530ccc180ea96308b8cfba8b34c19144"><td class="mdescLeft">&#160;</td><td class="mdescRight">The information about the client application that has made the authorization request.  <a href="#a530ccc180ea96308b8cfba8b34c19144">More...</a><br /></td></tr>
<tr class="separator:a530ccc180ea96308b8cfba8b34c19144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05bac6f2b5a683a49cd10f8046634456"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a05bac6f2b5a683a49cd10f8046634456">IsClientIdAliasUsed</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a05bac6f2b5a683a49cd10f8046634456"><td class="mdescLeft">&#160;</td><td class="mdescRight">The flag which indicates whether the value of the <code>"client_id"</code> request parameter included in the authorization request is the client ID alias or the original numeric client ID.  <a href="#a05bac6f2b5a683a49cd10f8046634456">More...</a><br /></td></tr>
<tr class="separator:a05bac6f2b5a683a49cd10f8046634456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055c8e0cb03bf23249f3f08585b9abd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_authlete_1_1_types.html#a0d0f740ae3a262d3a0514dd828282050">Display</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a055c8e0cb03bf23249f3f08585b9abd8">Display</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a055c8e0cb03bf23249f3f08585b9abd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The display mode which the client application requested by the <code>"display"</code> request parameter. When the authorization request does not contain the <code>"display"</code> request parameter, this property returns <code>Display.PAGE</code> as the default value.  <a href="#a055c8e0cb03bf23249f3f08585b9abd8">More...</a><br /></td></tr>
<tr class="separator:a055c8e0cb03bf23249f3f08585b9abd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a3fe7c291fcb686fa0c1fd01230b8a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a13a3fe7c291fcb686fa0c1fd01230b8a">MaxAge</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a13a3fe7c291fcb686fa0c1fd01230b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum authentication age which is the allowable elapsed time in seconds since the last time the end-user was actively authenticated by the authorization server implementation. The value of this property comes from either (1) the <code>"max_age"</code> request parameter or (2) the <code>"default_max_age"</code> configuration parameter of the client application. <code>0</code> may be returned which means that the max age constraint does not have to be imposed.  <a href="#a13a3fe7c291fcb686fa0c1fd01230b8a">More...</a><br /></td></tr>
<tr class="separator:a13a3fe7c291fcb686fa0c1fd01230b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2a88cad85006125d2d1f1f394043733"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_authlete_1_1_dto_1_1_scope.html">Scope</a> []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#ab2a88cad85006125d2d1f1f394043733">Scopes</a><code> [get, set]</code></td></tr>
<tr class="memdesc:ab2a88cad85006125d2d1f1f394043733"><td class="mdescLeft">&#160;</td><td class="mdescRight">The scopes which the client application requested by the <code>"scope"</code> request parameter. When the authorization request did not contain the <code>"scope"</code> request parameter, this property returns a list of scopes which are marked as default. <code>null</code> may be returned if the authorization request did not contain valid scopes and none of registered scopes is marked as default.  <a href="#ab2a88cad85006125d2d1f1f394043733">More...</a><br /></td></tr>
<tr class="separator:ab2a88cad85006125d2d1f1f394043733"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d1299301e893485fc9ab78cb96ae18c"><td class="memItemLeft" align="right" valign="top">string []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a1d1299301e893485fc9ab78cb96ae18c">UiLocales</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a1d1299301e893485fc9ab78cb96ae18c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of preferred languages and scripts for the user interface. The value of this property comes from the <code>"ui_locales"</code> request parameter.  <a href="#a1d1299301e893485fc9ab78cb96ae18c">More...</a><br /></td></tr>
<tr class="separator:a1d1299301e893485fc9ab78cb96ae18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7104993d80180dfcd46d1862433f11bf"><td class="memItemLeft" align="right" valign="top">string []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a7104993d80180dfcd46d1862433f11bf">ClaimsLocales</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a7104993d80180dfcd46d1862433f11bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of preferred languages and scripts for claim values contained in an ID token. The value of this property comes from the <code>"claims_locales"</code> request parameter.  <a href="#a7104993d80180dfcd46d1862433f11bf">More...</a><br /></td></tr>
<tr class="separator:a7104993d80180dfcd46d1862433f11bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d5e56ce1327f74d3ae96c939ac2b19"><td class="memItemLeft" align="right" valign="top">string []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#af5d5e56ce1327f74d3ae96c939ac2b19">Claims</a><code> [get, set]</code></td></tr>
<tr class="memdesc:af5d5e56ce1327f74d3ae96c939ac2b19"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of claims that the client application requested to be embedded in an ID token. The value of this property comes from the <code>"scope"</code> and/or <code>"claims"</code> request parameters of the original authorization request.  <a href="#af5d5e56ce1327f74d3ae96c939ac2b19">More...</a><br /></td></tr>
<tr class="separator:af5d5e56ce1327f74d3ae96c939ac2b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354a2efd3a1034496ae5c46823f8c5b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a354a2efd3a1034496ae5c46823f8c5b1">IsAcrEssential</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a354a2efd3a1034496ae5c46823f8c5b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The flag which indicates whether the end-user authentication must satisfy one of the requested ACRs.  <a href="#a354a2efd3a1034496ae5c46823f8c5b1">More...</a><br /></td></tr>
<tr class="separator:a354a2efd3a1034496ae5c46823f8c5b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e25fb1587e45407f67911544979ca5"><td class="memItemLeft" align="right" valign="top">string []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a46e25fb1587e45407f67911544979ca5">Acrs</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a46e25fb1587e45407f67911544979ca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of ACRs (Authentication Context Class References) requested by the client application. The value of this property comes from (1) the <code>"acr"</code> claim in the <code>"claims"</code> request parameter, (2) the <code>"acr_values"</code> request parameter, or (3) the <code>"default_acr_values"</code> configuration parameter of the client application.  <a href="#a46e25fb1587e45407f67911544979ca5">More...</a><br /></td></tr>
<tr class="separator:a46e25fb1587e45407f67911544979ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00533685efc8eefd6feeae97dd0cc491"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a00533685efc8eefd6feeae97dd0cc491">Subject</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a00533685efc8eefd6feeae97dd0cc491"><td class="mdescLeft">&#160;</td><td class="mdescRight">The subject (= unique identifier) of the end-user that the client application requested. The value of this property comes from the <code>"sub"</code> claim in the <code>"claims"</code> request parameter. This property may return <code>null</code> (probably in most cases).  <a href="#a00533685efc8eefd6feeae97dd0cc491">More...</a><br /></td></tr>
<tr class="separator:a00533685efc8eefd6feeae97dd0cc491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c556f877c0f6b0cd1645738231afce"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a58c556f877c0f6b0cd1645738231afce">LoginHint</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a58c556f877c0f6b0cd1645738231afce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Login hint specified by the <code>"login_hint"</code> request parameter.  <a href="#a58c556f877c0f6b0cd1645738231afce">More...</a><br /></td></tr>
<tr class="separator:a58c556f877c0f6b0cd1645738231afce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb757ed921844ce77cdccb875903a9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_authlete_1_1_types.html#acc042eb862c2e7d4925bf61a38977f46">Prompt</a> []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a2fb757ed921844ce77cdccb875903a9e">Prompts</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a2fb757ed921844ce77cdccb875903a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of prompts contained in the authorization request (= the value of the <code>"prompt"</code> request parameter).  <a href="#a2fb757ed921844ce77cdccb875903a9e">More...</a><br /></td></tr>
<tr class="separator:a2fb757ed921844ce77cdccb875903a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67bc0fd60e288194bc360bd6a319e6c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#ae67bc0fd60e288194bc360bd6a319e6c">ResponseContent</a><code> [get, set]</code></td></tr>
<tr class="memdesc:ae67bc0fd60e288194bc360bd6a319e6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The response content which can be used to generate a response to the client application. The format of the value varies depending on the value of the <code>Action</code> property.  <a href="#ae67bc0fd60e288194bc360bd6a319e6c">More...</a><br /></td></tr>
<tr class="separator:ae67bc0fd60e288194bc360bd6a319e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec7c0abd4175b95461bd00f88aac42f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html#a5ec7c0abd4175b95461bd00f88aac42f">Ticket</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a5ec7c0abd4175b95461bd00f88aac42f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ticket issued from Authlete's <code>/api/auth/authorization</code> API to the authorization server implementation. This ticket is necessary to call the <code>/api/auth/authorization/issue</code> API or the <code>/api/auth/authorization/fail</code> API.  <a href="#a5ec7c0abd4175b95461bd00f88aac42f">More...</a><br /></td></tr>
<tr class="separator:a5ec7c0abd4175b95461bd00f88aac42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_class_authlete_1_1_dto_1_1_api_response"><td colspan="2" onclick="javascript:toggleInherit('properties_class_authlete_1_1_dto_1_1_api_response')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="class_authlete_1_1_dto_1_1_api_response.html">ApiResponse</a></td></tr>
<tr class="memitem:a90ab9c1807ec222e7723930c865b8266 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_api_response.html#a90ab9c1807ec222e7723930c865b8266">ResultCode</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a90ab9c1807ec222e7723930c865b8266 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="mdescLeft">&#160;</td><td class="mdescRight">The code of the result of an Authlete API call. For example, <code>"A004001"</code>.  <a href="class_authlete_1_1_dto_1_1_api_response.html#a90ab9c1807ec222e7723930c865b8266">More...</a><br /></td></tr>
<tr class="separator:a90ab9c1807ec222e7723930c865b8266 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206805878e588022df32dd7e8fa4d5f1 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_api_response.html#a206805878e588022df32dd7e8fa4d5f1">ResultMessage</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a206805878e588022df32dd7e8fa4d5f1 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="mdescLeft">&#160;</td><td class="mdescRight">The message of the result of an Authlete API call. For example, <em>"[A001202] /client/get/list,
Authorization header is missing."</em>  <a href="class_authlete_1_1_dto_1_1_api_response.html#a206805878e588022df32dd7e8fa4d5f1">More...</a><br /></td></tr>
<tr class="separator:a206805878e588022df32dd7e8fa4d5f1 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Response from Authlete's <code>/api/auth/authorization</code> API. </p>
<p>Note: In the description below, "authorization server" is always used even where "OpenID provider" should be used. </p>
<p>Authlete's <code>/api/auth/authorization</code> API returns JSON which can be mapped to this class. The authorization server implementation should retrieve the value of the <code>action</code> response parameter (which can be obtained via the <code>Action</code> property) from the response and take the following steps according to the value. </p>
<p><br />
</p><hr/>
<p>When the value of the <code>Action</code> property is <code>AuthorizationAction.INTERNAL_SERVER_ERROR</code>, it means that the request from the authorization server implementation was wrong or that an error occurred in Authlete. In either case, from a viewpoint of the client application, it is an error on the server side. Therefore, the authorization server implementation should generate a response to the client application with the HTTP status of <code>"500 Internal
Server Error"</code>. Authlete recommends <code>"application/json"</code> as the content type although OAuth 2.0 specification does not mention the format of the error response when the redirect URI is not usable. </p>
<p>In this case, <code>ResponseContent</code> returns a JSON string which describes the error, so it can be used as the entity body of the response. The following illustrates the response which the authorization server implementation should generate and return to the client application. </p>
<div class="fragment"><div class="line">HTTP/1.1 500 Internal Server Error</div><div class="line">Content-Type: application/json</div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div><div class="line"></div><div class="line">(The value returned from ResponseContent)</div></div><!-- fragment --><p><br />
</p><hr/>
<p>When the value of the <code>Action</code> property is <code>AuthorizationAction.BAD_REQUEST</code>, it means that the request from the client application was invalid. The HTTP status of the response returned to the client application should be <code>"400 Bad Request"</code> and Authlete recommends <code>"application/json"</code> as the content type although OAuth 2.0 specification does not mention the format of the error response when the redirect URI is not usable. </p>
<p>In this case, <code>ResponseContent</code> returns a JSON string which describes the error, so it can be used as the entity body of the response. The following illustrates the response which the authorization server implementation should generate and return to the client application. </p>
<div class="fragment"><div class="line">HTTP/1.1 400 Bad Request</div><div class="line">Content-Type: application/json</div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div><div class="line"></div><div class="line">(The value returned from ResponseContent)</div></div><!-- fragment --><p><br />
</p><hr/>
<p>When the value of the <code>Action</code> property is <code>AuthorizationAction.LOCATION</code>, it means that the request from the client application is invalid but the redirect URI to which the error should be reported has been determined. The HTTP status of the response returned to the client application should be <code>"302 Found"</code> and the <code>"Location"</code> header must have a redirect URI with an <code>"error"</code> response parameter. </p>
<p>In this case, <code>ResponseContent</code> returns the redirect URI which has the <code>"error"</code> response parameter, so it can be used as the value of <code>"Location"</code> header. The following illustrates the response which the authorization server implementation should generate and return to the client application. </p>
<div class="fragment"><div class="line">HTTP/1.1 302 Found</div><div class="line">Location: (The value returned from <a class="code" href="class_authlete_1_1_dto_1_1_authorization_response.html#ae67bc0fd60e288194bc360bd6a319e6c">ResponseContent</a>)</div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div></div><!-- fragment --><p><br />
</p><hr/>
<p>When the value of the <code>Action</code> property is <code>AuthorizationAction.FORM</code>, it means that the request from the client application is invalid but the redirect URI to which the error should be reported has been determined, and that the request contains <code>response_mode=form_post</code> as is defined in <a href="https://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html">OAuth 2.0 Form Post Response Mode</a>. The HTTP status of the response returned to the client application should be <code>"200 OK"</code> and the content type should be <code>"text/html;charset=UTF-8"</code>. </p>
<p>In this case, <code>ResponseContent</code> returns an HTML which satisfies the requirements of <code>response_mode=form_post</code>, so it can be used as the entity body of the response. The following illustrates the response which the authorization server implementation should generate and return to the client application. </p>
<div class="fragment"><div class="line">HTTP/1.1 200 <a class="code" href="namespace_authlete_1_1_dto.html#a3f71cf061e6190c765df8409536d3d47ae0aa021e21dddbd6d8cecec71e9cf564">OK</a></div><div class="line">Content-Type: text/html;charset=UTF-8</div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div><div class="line"></div><div class="line">(The value returned from ResponseContent)</div></div><!-- fragment --><p><br />
</p><hr/>
<p>When the value of the <code>Action</code> property is <code>AuthorizationAction.NO_INTERACTION</code>, it means that the request from the client application has no problem and requires the authorization server to process the request without displaying any user interface for authentication and/or consent. This happens when the request contains <code>prompt=none</code>. </p>
<p>In this case, the authorization server implementation should follow the steps below. </p>
<ul>
<li>
<p class="startli">[END-USER AUTHENTICATION]  </p>
<p class="endli">Check whether an end-user has already logged in. If an end-user has logged in, go to the next step ([MAX AGE]). Otherwise, call Authlete's <code>/api/auth/authorization/fail</code> API with <code>reason=AuthorizationFailAction.NOT_LOGGED_IN</code> and use the response from the API to generate a response to the client application. </p>
</li>
</ul>
<ul>
<li>
<p class="startli">[MAX AGE]  </p>
<p class="endli">Get the value of the max age from the <code>MaxAge</code> property. The value represents the maximum authentication age which has come from the <code>"max_age"</code> request parameter or the <code>"default_max_age"</code> configuration parameter of the client application. If the value is <code>0</code>, go to the next step ([SUBJECT]). Otherwise, follow the sub steps described below. </p>
</li>
</ul>
<p>(1) Get the time at which the end-user was authenticated. Note that this value is not managed by Authlete, meaning that it is expected that the authorization server implementation manages the value. If the authorization server implementation does not manage authentication time of end-users, call Authlete's <code>/api/auth/authorization/fail</code> API with <code>reason=AuthorizationFailReason.MAX_AGE_NOT_SUPPORTED</code> and use the response from the API to generate a response to the client application. </p>
<p>(2) Add the value of the maximum authentication age (which is represented in seconds to the authentication time. </p>
<p>(3) Check whether the calculated value is equal to or greater than the current time. If this condition is satisfied, go to the next step ([SUBJECT]). Otherwise, call Authlete's <code>/api/auth/authorization/fail</code> API with <code>reason=AuthorizationFailReason.EXCEEDS_MAX_AGE</code> and use the response from the API to generate a response to the client application. </p>
<ul>
<li>
<p class="startli">[SUBJECT]  </p>
<p class="endli">Get the value of the requested subject from the <code>Subject</code> property. The value represents an end-user who the client application expects to grant authorization. If the value is <code>null</code>, go to the next step ([ACRs]). Otherwise, follow the sub steps described below. </p>
</li>
</ul>
<p>(1) Compare the value of the requested subject to the subject (= unique user ID) of the current end-user. </p>
<p>(2) If they are equal, go to the next step ([ACRs]). </p>
<p>If they are not equal, call Authlete's <code>/api/auth/authorization/fail</code> API with <code>reason=AuthorizationFailRequest.DIFFERENT_SUBJECT</code> and use the response from the API to generate a response to the client application. </p>
<ul>
<li>
<p class="startli">[ACRs]  </p>
<p class="endli">Get the value of ACRs (Authentication Context Class References) from the <code>Acrs</code> property. The value has come from (1) the <code>"acr"</code> claim in the <code>"claims"</code> request parameter, (2) the <code>"acr_values"</code> request parameter, or (3) the <code>"default_acr_values"</code> configuration parameter of the client application. </p>
</li>
</ul>
<p>It is ensured that all the ACRs returned by the <code>Acrs</code> property are supported by the authorization server implementation. In other words, it is ensured that all the ACRs are listed in the <code>"acr_values_supported"</code> configuration parameter of the authorization server. </p>
<p>If the value of ACRs is <code>null</code>, go to the next step ([SCOPES]). Otherwise, follow the sub steps described below. </p>
<p>(1) Get the ACR performed for the authentication of the current end-user. Note that this value is managed not by Authlete but by the authorization server implementation. (If the authorization server implementation cannot handle ACRs, it should not have listed ACRs in the <code>"acr_values_supported"</code> configuration parameter.) </p>
<p>Compare the ACR value obtained in the above step to each element in the ACR array obtained from the <code>Acrs</code> property in the listed order. If the ACR value was found in the array, go to the next step ([SCOPES]). </p>
<p>If the ACR value was not found in the ACR array (= if the ACR performed for the authentication of the current end-user did not match any one of the ACRs requested by the client application), check whether one of the requested ACRs must be satisfied or not by referring to the <code>IsAcrEssential</code> property. If the <code>IsAcrEssential</code> property returns <code>true</code>, call Authlete's <code>/api/auth/authorization/fail</code> API with <code>reason=AuthorizationFailReason.ACR_NOT_SATISFIED</code> and use the response from the API to generate a response to the client application. Otherwise, go to the next step ([SCOPES]). </p>
<ul>
<li>
<p class="startli">[SCOPES]  </p>
<p class="endli">Get the scopes from the <code>Scopes</code> property. If the array contains one or more scopes which have not been granted to the client application by the end-user in the past, call Authlete's <code>/api/auth/authorization/fail</code> API with <code>reason=AuthorizationFailReason.CONSENT_REQUIRED</code> and use the response from the API to generate a response to the client application. Otherwise, go to the next step ([ISSUE]). </p>
</li>
</ul>
<p>Note that Authlete provides APIs to manage records of granted scopes (<code>/api/client/grantedscopes/*</code> APIs), but the APIs work only in the case the Authlete server you use is a dedicated Authlete server (contact <a href="#" onclick="location.href='mai'+'lto:'+'sal'+'es'+'@au'+'th'+'let'+'e.'+'com'; return false;">sales@authlete.com</a> for details). In other words, the APIs of the shared Authlete server are disabled intentionally (in order to prevent garbage data from being accumulated) and they return <code>"403 Forbidden"</code>. </p>
<ul>
<li>
<p class="startli">[ISSUE]  </p>
<p class="endli">If all the above steps succeeded, the last step is to issue an authorization code, an ID token and/or an access token (<code>response_type=none</code> is a special case where nothing is issued). The last step can be performed by calling Authlete's <code>/api/auth/authorization/issue</code> API. The API requires the following parameters, which are represented as properties of the <code>AuthorizationIssueRequest</code> class. Prepare these parameters and call the <code>/api/auth/authorization/issue</code> API. </p>
</li>
</ul>
<p>(1) [ticket] (required). This parameter represents a ticket which is exchanged with tokens at the <code>/api/auth/authorization/issue</code> API. Use the value returned from the <code>Ticket</code> property as it is. </p>
<p>(2) [subject] (required). This parameter represents the unique identifier of the current end-user. It is often called "User ID" and it may or may not be visible to the end-user. In any case, it is a number or a string assigned to the end-user by your service. Authlete does not care about the format of the value of the subject, but it must consist of only ASCII letters and its length must be equal to or less than 100. </p>
<p>When the <code>Subject</code> property of <code>AuthorizationResponse</code> returns a non-null value, the value of <code>subject</code> request parameter to <code>/api/auth/authorization/issue</code> API is necessarily identical. </p>
<p>The value of this request parameter will be embedded in an ID token as the value of the <code>"sub"</code> claim. When the value of the <code>"subject_type"</code> configuration parameter of the client is <code>SubjectType.PAIRWISE</code>, the value of the <code>"sub"</code> claim is different from the value specified here, but <code>PAIRWISE</code> is not supported by Authlete yet. See <a href="https://openid.net/specs/openid-connect-core-1_0.html#SubjectIDTypes">8. Subject Identifier Types</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for details about subject types. </p>
<p>You can use the <code>"sub"</code> request parameter to adjust the value of the <code>"sub"</code> claim in an ID token. See the description of the <code>"sub"</code> request parameter for details. </p>
<p>(3) [authTime] (optional). This parameter represents the time when the end-user authentication occurred. Its value is the number of seconds since the Unix epoch (1970-Jan-1). The value of this parameter will be embedded in an ID token as the value of the <code>"auth_time"</code> claim. </p>
<p>(4) [acr] (optional). This parameter represents the ACR (Authentication Context Class Reference) which the authentication of the end-user satisifes. When the <code>Acrs</code> property returns a non-empty array and the <code>IsAcrEssential</code> property returns <code>true</code>, the value of this parameter must be one of the array elements. Otherwise, even <code>null</code> is allowed. The value of this parameter will be embedded in an ID token as the value of the <code>"acr"</code> claim. </p>
<p>(5) [claims] (optional). This parameter represents claims of the end-user. "Claims" here are pieces of information about the end-user such as <code>"name"</code>, <code>"email"</code> and <code>"birthdate"</code>. The authorization server implementation is required to gather claims of the end-user, format the claim values into a JSON and set the JSON string as the value of this parameter. </p>
<p>The claims which the authorization server implementation is required to gather can be obtained from the <code>Claims</code> property. </p>
<p>For example, if the <code>Claims</code> property returns an array which contains <code>"name"</code>, <code>"email"</code> and <code>"birthdate"</code>, the value of this parameter should look like the following. </p>
<div class="fragment"><div class="line">{</div><div class="line">  <span class="stringliteral">&quot;name&quot;</span>: <span class="stringliteral">&quot;John Smith&quot;</span>,</div><div class="line">  <span class="stringliteral">&quot;email&quot;</span>: <span class="stringliteral">&quot;john@example.com&quot;</span>,</div><div class="line">  <span class="stringliteral">&quot;birthdate&quot;</span>: <span class="stringliteral">&quot;1974-05-06&quot;</span></div><div class="line">}</div></div><!-- fragment --> <p>The <code>ClaimsLocales</code> property lists the end-user's preferred languages and scripts for claim values, ordered by preference. When the <code>ClaimsLocales</code> property returns a non-empty array, its elements should be taken into consideration when the authorization server implementation gathers claim values. Especially, note the excerpt below from <a href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsLanguagesAndScripts">5.2. Claims Languages and Scripts</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a>. </p>
<p><em>"When the OP determines, either through the <code>claims_locales</code> parameter, or by other means, that End-User and Client are requesting Claims in only one set of languages and scripts, it is RECOMMENDED that OPs return Claims without language tags when they employ this language and script. It is also RECOMMENDED that Clients be written in a manner that they can handle and utilize Claims using language tags."</em> </p>
<p>If the <code>Claims</code> property returns <code>null</code> or an empty array, the value of this parameter should be <code>null</code>. </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims">5.1. Standard Claims</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for claim names and their value formats. Note (1) that the authorization server implementation may support its special claims (<a href="https://openid.net/specs/openid-connect-core-1_0.html#AdditionalClaims">5.1.2. Additional Claims</a>) and (2) that claim names may be followed by a language tag (<a href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsLanguagesAndScripts">5.2. Claims Languages and Scripts</a>). Read the specification of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for details. </p>
<p>The claim values in this parameter will be embedded in an ID token. </p>
<p>(6) [properties] (optional). Extra properties to be associated with an access token and/or an authorization code that may be issued from the Authlete API. Note that the <code>properties</code> request parameter is accepted only when <code>Content-Type</code> of the request to Authlete's <code>/api/auth/authorization/issue</code> API is <code>"application/json"</code>, so don't use <code>"application/x-www-form-urlencoded"</code> if you want to use this request parameter. </p>
<p>(7) [scopes] (optional). Scopes to be associated with an access token and/or an authorization code. If this parameter is <code>null</code>, the scopes specified in the original authorization request from the client application are used. In other cases, the specified scopes by this parameter will replace the scopes contained in the original authorization request. </p>
<p>Even scopes that are not included in the original authorization request can be specified. However, as an exception, the <code>"openid"</code> scope is ignored on Authlete server side if it is not included in the original request. It is because the existence of the <code>"openid"</code> scope considerably changes the validation steps and because adding <code>"openid"</code> triggers generation of an ID token (although the client application has not requested it) and the behavior is a major violation against the specification. </p>
<p>If you add the <code>"offline_access"</code> scope although it is not included in the original request, keep in mind that the specification requires explicit consent from the end-user for the scope (<a href="https://openid.net/specs/openid-connect-core-1_0.html#OfflineAccess">11. Offline Access</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a>). When <code>"offline_access"</code> is included in the original authorization request, the current implementation of Authlete's <code>/api/auth/authorization</code> API checks whether the authorization request has come along with the <code>"prompt"</code> request parameter and its value includes <code>"consent"</code>. However, note that the implementation of Authlete's <code>/api/auth/authorization/issue</code> API does not perform the same validation even if the <code>"offline_access"</code> scope is added via this <code>scopes</code> parameter. </p>
<p>(8) [sub] (optional). The value of the <code>"sub"</code> claim in an ID token which may be issued. If the value of this request parameter is not empty, it is used as the value of the <code>"sub"</code> claim. Otherwise, the value of the <code>"subject"</code> request parameter is used as the value of the <code>"sub"</code> claim. The main purpose of this parameter is to hide the actual value of the subject from client applications. </p>
<p><code>/api/auth/authorization/issue</code> API returns a response in JSON format which can be mapped to <code>AuthorizationIssueResponse</code>. Use the response from the API to generate a response to the client application. See the description of <code>AuthorizationIssueResponse</code> for details. </p>
<p><br />
</p><hr/>
<p>When the value of the <code>Action</code> property is <code>AuthorizationAction.INTERACTION</code>, it means that the request from the client application has no problem and requires the authorization server to process the request with user interaction by an HTML form. </p>
<p>The purpose of the UI displayed to the end-user is to ask the end-user to grant authorization to a client application. The items described below are some points which the authorization server implementation should take into consideration when it builds the UI. </p>
<ul>
<li>
<p class="startli">[DISPLAY MODE]  </p>
<p class="endli"><code>AuthorizationResponse</code> contains <code>"display"</code> parameter. The value can be obtained via the <code>Display</code> property and it is one of <code>PAGE</code> (default), <code>POPUP</code> <code>TOUCH</code> and <code>WAP</code>. The meanings of the values are described in <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">3.1.2.1. Authentication Request</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a>. Basically, the authorization server implementation should display the UI which is suitable for the display mode, but it is okay for the authorization server implementation to <em>"attempt to detect the capabilities of the User Agent and present an appropriate display."</em> </p>
</li>
</ul>
<p>It is ensured that the value returned from the <code>Display</code> property is one of the supported display values which are specified by the <code>"display_values_supported"</code> configuration parameter of the authorization server. </p>
<ul>
<li>
<p class="startli">[UI LOCALE]  </p>
<p class="endli"><code>AuthorizationResponse</code> contains <code>"ui_locales"</code> parameter. The value can be obtained via the <code>UiLocales</code> property and it is an array of language tag values (such as <code>"fr-CA"</code> and <code>"en"</code>) ordered by preference. The authorization server implementation should display the UI in one of the languages listed in the <code>"ui_locales"</code> parameter when possible. </p>
</li>
</ul>
<p>It is ensured that language tags returned from the <code>UiLocales</code> property are contained in the list of supported UI locales which are specified by the <code>"ui_locales_supported"</code> configuration parameter of the authorization server. </p>
<ul>
<li>
<p class="startli">[CLIENT INFORMATION]  </p>
<p class="endli">The authorization server implementation should show the end-user information about the client application. The information can be obtained via the <code>Client</code> property. </p>
</li>
</ul>
<ul>
<li>
<p class="startli">[SCOPES]  </p>
<p class="endli">A client application requires authorization for specific permissions. In OAuth 2.0 specification, <em>"scope"</em> is a technical term which represents a permission. The <code>Scopes</code> property returns scopes requested by the client application. The authorization server implementation should show the end-user the scopes. </p>
</li>
</ul>
<p>The authorization server implementation may choose not to show scopes to which the end-user has given consent in the past. To put it the other way around, the authorization server implementation may show only the scopes to which the end-user has not given consent yet. However, if the value returned from the <code>Prompts</code> contains <code>Prompt.CONSENT</code>, the authorization server implementation has to obtain explicit consent from the end-user even if the end-user has given consent to all the requested scopes in the past. </p>
<p>Note that Authlete provides APIs to manage records of granted scopes (<code>/api/client/granted_scopes/*</code> APIs), but the APIs work only in the case the Authlete server you use is a dedicated Authlete server (contact <a href="#" onclick="location.href='mai'+'lto:'+'sal'+'es'+'@au'+'th'+'let'+'e.'+'com'; return false;">sales@authlete.com</a> for details). In other words, the APIs of the shared Authlete server are disabled intentionally (in order to prevent garbage data from being accumulated) and they return <code>"403 Forbidden"</code>. </p>
<p>It is ensured that scopes returned from the <code>Scopes</code> property are contained in the list of supported scopes parameter of the authorization server. </p>
<ul>
<li>
<p class="startli">[END-USER AUTHENTICATION]  </p>
<p class="endli">Necessarily, the end-user must be authenticated (= must login your service) before granting authorization to the client application. Simply put, a login form is expected to be displayed for end-user authentication. The authorization server implementation must follow the steps described below to comply with OpenID Connect. (Or just always show a login form if it's too much of a bother to follow the steps below). </p>
</li>
</ul>
<p>(1) Get the value of the <code>Prompts</code> property. It corresponds to the value of the <code>"prompt"</code> request parameter. Details of the request parameter are described in <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">3.1.2.1. Authentication Request</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a>. </p>
<p>If the value returned from the <code>Prompts</code> property contains <code>Prompt.SELECT_ACCOUNT</code>, display a form to urge the end-user to select one of his/her accounts for login. If the <code>Subject</code> property returns a non-null value, it is the end-user ID that the client application expects, so the value should be used to determine the value of the login ID. Note that a subject and a login ID are not necessarily equal. If the <code>Subject</code> property returns <code>null</code>, the value returned from the <code>LoginHint</code> should be referred to as a hint to determine the value of the login ID. The <code>LoginHint</code> property simply returns the value of the <code>"login_hint"</code> request parameter. </p>
<p>If the value returned from the <code>Prompts</code> property contains <code>Prompt.LOGIN</code>, display a form to urge the end-user to login even if the end-user has already logged in. If the <code>Subject</code> property returns a non-null value, it is the end-user ID that the client application expects, so the value should be used to determine the value of the login ID. Note that a subject and a login ID are not necessarily equal. If the <code>Subject</code> property returns <code>null</code>, the value returned from the <code>LoginHint</code> should be referred to as a hint to determine the value of the login ID. The <code>LoginHint</code> property simply returns the value of the <code>"login_hint"</code> request parameter. </p>
<p>If the value returned from the <code>Prompts</code> property does not contain <code>Prompt.LOGIN</code>, the authorization server implementation does not have to authenticate the end-user if all the conditions described below are satisfied. If any one of the condisionts is not satisfied, show a login form to authenticate the end-user. </p>
<p>(a) An end-user has already logged in your service. </p>
<p>(b) The login ID of the current end-user matches the value returned from the <code>Subject</code> property. This check is required only when the <code>Subject</code> property returns a non-null value. </p>
<p>(c) The max age, which is the number of seconds obtained by the <code>MaxAge</code> property, has not passed since the current end-user logged in your service. This check is required only when the <code>MaxAge</code> property returns a non-zero value. </p>
<p>If the authorization server implementation does not manage authentication time of end-users (= if the authorization server implementation cannot know when end-users logged in) and if the <code>MaxAge</code> property returns a non-zero value, a login form should be displayed. </p>
<p>(d) The ACR (Authentication Context Class Reference) of the authentication performed for the current end-user satisfies one of the ACRs listed in the value of the <code>Acrs</code> property. This check is required only when the <code>Acrs</code> property returns a non-empty array. </p>
<p>In every case, the end-user authentication must satisfy one of the ACRs listed in the value of the <code>Acrs</code> property when the <code>Acrs</code> property returns a non-empty array and the <code>IsAcrEssential</code> property returns <code>true</code>. </p>
<ul>
<li>
<p class="startli">[GRANT/DENY BUTTONS]  </p>
<p class="endli">The end-user is supposed to choose either (1) to grant authorization to the client application or (2) to deny the authorization request. The UI must have UI components to accept the decision by the end-user. Usually, a button to grant authorization and a button to deny the request are provided. </p>
</li>
</ul>
<p>When the subject returned by the <code>Subject</code> property is not <code>null</code>, the end-user authentication must be performed for the subject, meaning that the authorization server implemetation should repeatedly show a login form until the subject is succesfully authenticated. </p>
<p>The end-user will choose either (1) to grant authorization to the client application or (2) to deny the authorization request. When the end-user chose to deny the authorization request, call Authlete's <code>/api/auth/authorization/fail</code> API with <code>reason=AuthorizationFailReason.DENIED</code> and use the response from the API to generate a response to the client application. </p>
<p>When the end-user chose to grant authorization to the client application, the authorization server implementation has to issue an authorization code, an ID token, and/or an access token to the client application (<code>response_type=none</code> is a special case where nothing is issued). Issuing the tokens can be performed by calling Authlete's <code>/api/auth/authorization/issue</code> API. Read [ISSUE] written above in the description for the case of <code>action=AuthorizationResponseAction.NO_INTERACTION</code>. </p>
</div><h2 class="groupheader">Property Documentation</h2>
<a id="a46e25fb1587e45407f67911544979ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46e25fb1587e45407f67911544979ca5">&#9670;&nbsp;</a></span>Acrs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string [] Acrs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of ACRs (Authentication Context Class References) requested by the client application. The value of this property comes from (1) the <code>"acr"</code> claim in the <code>"claims"</code> request parameter, (2) the <code>"acr_values"</code> request parameter, or (3) the <code>"default_acr_values"</code> configuration parameter of the client application. </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsParameter">5.5. Requesting Claims using the "claims" Request Parameter</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for the <code>"claims"</code> request parameter. </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">3.1.2.1. Authentication Request</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for the <code>"acr_values"</code> request parameter. </p>
<p>See <a href="https://openid.net/specs/openid-connect-registration-1_0.html#ClientMetadata">2. Client Metadata</a> of <a href="https://openid.net/specs/openid-connect-registration-1_0.html">OpenID Connect Dynamic Client Registration 1.0</a> for the <code>"default_acr_values"</code> configuration parameter of the client application. </p>

</div>
</div>
<a id="a9155f3433a19c83c915e1fae0c58ab48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9155f3433a19c83c915e1fae0c58ab48">&#9670;&nbsp;</a></span>Action</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_authlete_1_1_dto.html#a25d4830acda62615a4de107e1694e031">AuthorizationAction</a> Action</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The next action that the authorization server implementation should take. </p>

</div>
</div>
<a id="af5d5e56ce1327f74d3ae96c939ac2b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d5e56ce1327f74d3ae96c939ac2b19">&#9670;&nbsp;</a></span>Claims</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string [] Claims</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of claims that the client application requested to be embedded in an ID token. The value of this property comes from the <code>"scope"</code> and/or <code>"claims"</code> request parameters of the original authorization request. </p>

</div>
</div>
<a id="a7104993d80180dfcd46d1862433f11bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7104993d80180dfcd46d1862433f11bf">&#9670;&nbsp;</a></span>ClaimsLocales</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string [] ClaimsLocales</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of preferred languages and scripts for claim values contained in an ID token. The value of this property comes from the <code>"claims_locales"</code> request parameter. </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">3.1.2.1. Authentication Request</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for the <code>"claims_locales"</code> request parameter. </p>

</div>
</div>
<a id="a530ccc180ea96308b8cfba8b34c19144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a530ccc180ea96308b8cfba8b34c19144">&#9670;&nbsp;</a></span>Client</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_authlete_1_1_dto_1_1_client.html">Client</a> <a class="el" href="class_authlete_1_1_dto_1_1_client.html">Client</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The information about the client application that has made the authorization request. </p>

</div>
</div>
<a id="a055c8e0cb03bf23249f3f08585b9abd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055c8e0cb03bf23249f3f08585b9abd8">&#9670;&nbsp;</a></span>Display</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_authlete_1_1_types.html#a0d0f740ae3a262d3a0514dd828282050">Display</a> <a class="el" href="namespace_authlete_1_1_types.html#a0d0f740ae3a262d3a0514dd828282050">Display</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The display mode which the client application requested by the <code>"display"</code> request parameter. When the authorization request does not contain the <code>"display"</code> request parameter, this property returns <code>Display.PAGE</code> as the default value. </p>

</div>
</div>
<a id="a354a2efd3a1034496ae5c46823f8c5b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354a2efd3a1034496ae5c46823f8c5b1">&#9670;&nbsp;</a></span>IsAcrEssential</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool IsAcrEssential</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The flag which indicates whether the end-user authentication must satisfy one of the requested ACRs. </p>
<p>This property returns <code>true</code> only when the authorization request from the client application contains the <code>"claims"</code> request parameter and it contains an entry for the <code>"acr"</code> claim with <code>"essential":true</code>. See <a href="https://openid.net/specs/openid-connect-core-1_0.html#IndividualClaimsRequests">5.5.1. Individual Claims Requests</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for details. </p>

</div>
</div>
<a id="a05bac6f2b5a683a49cd10f8046634456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05bac6f2b5a683a49cd10f8046634456">&#9670;&nbsp;</a></span>IsClientIdAliasUsed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool IsClientIdAliasUsed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The flag which indicates whether the value of the <code>"client_id"</code> request parameter included in the authorization request is the client ID alias or the original numeric client ID. </p>

</div>
</div>
<a id="a58c556f877c0f6b0cd1645738231afce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c556f877c0f6b0cd1645738231afce">&#9670;&nbsp;</a></span>LoginHint</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string LoginHint</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Login hint specified by the <code>"login_hint"</code> request parameter. </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">3.1.2.1. Authentication Request</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for the <code>"login_hint"</code> request parameter. </p>

</div>
</div>
<a id="a13a3fe7c291fcb686fa0c1fd01230b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a3fe7c291fcb686fa0c1fd01230b8a">&#9670;&nbsp;</a></span>MaxAge</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MaxAge</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The maximum authentication age which is the allowable elapsed time in seconds since the last time the end-user was actively authenticated by the authorization server implementation. The value of this property comes from either (1) the <code>"max_age"</code> request parameter or (2) the <code>"default_max_age"</code> configuration parameter of the client application. <code>0</code> may be returned which means that the max age constraint does not have to be imposed. </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">3.1.2.1. Authentication Request</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for the <code>"max_age"</code> request parameter. </p>
<p>See <a href="https://openid.net/specs/openid-connect-registration-1_0.html#ClientMetadata">2. Client Metadata</a> of <a href="https://openid.net/specs/openid-connect-registration-1_0.html">OpenID Connect Dynamic Client Registration 1.0</a> for the <code>"default_max_age"</code> configuration parameter. </p>

</div>
</div>
<a id="a2fb757ed921844ce77cdccb875903a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb757ed921844ce77cdccb875903a9e">&#9670;&nbsp;</a></span>Prompts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_authlete_1_1_types.html#acc042eb862c2e7d4925bf61a38977f46">Prompt</a> [] Prompts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of prompts contained in the authorization request (= the value of the <code>"prompt"</code> request parameter). </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">3.1.2.1. Authentication Request</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for the <code>"prompt"</code> request parameter. </p>

</div>
</div>
<a id="ae67bc0fd60e288194bc360bd6a319e6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67bc0fd60e288194bc360bd6a319e6c">&#9670;&nbsp;</a></span>ResponseContent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ResponseContent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The response content which can be used to generate a response to the client application. The format of the value varies depending on the value of the <code>Action</code> property. </p>

</div>
</div>
<a id="ab2a88cad85006125d2d1f1f394043733"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2a88cad85006125d2d1f1f394043733">&#9670;&nbsp;</a></span>Scopes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_authlete_1_1_dto_1_1_scope.html">Scope</a> [] Scopes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The scopes which the client application requested by the <code>"scope"</code> request parameter. When the authorization request did not contain the <code>"scope"</code> request parameter, this property returns a list of scopes which are marked as default. <code>null</code> may be returned if the authorization request did not contain valid scopes and none of registered scopes is marked as default. </p>
<p>You may want to enable end-users to select/deselect scopes in the authorization page. In other words, you may want to use a different set of scopes than the set specified by the original authorization request. You can replace scopes when you call Authlete's <code>/api/authorization/issue</code> API. See the description of <code>AuthorizationIssueRequest.Scopes</code> for details. </p>

</div>
</div>
<a id="aa7ea174afa546a13bf8dc33eb972950f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ea174afa546a13bf8dc33eb972950f">&#9670;&nbsp;</a></span>Service</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_authlete_1_1_dto_1_1_service.html">Service</a> <a class="el" href="class_authlete_1_1_dto_1_1_service.html">Service</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The information about the service. </p>

</div>
</div>
<a id="a00533685efc8eefd6feeae97dd0cc491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00533685efc8eefd6feeae97dd0cc491">&#9670;&nbsp;</a></span>Subject</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Subject</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The subject (= unique identifier) of the end-user that the client application requested. The value of this property comes from the <code>"sub"</code> claim in the <code>"claims"</code> request parameter. This property may return <code>null</code> (probably in most cases). </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#ClaimsParameter">5.5. Requesting Claims using the "claims" Request Parameter</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for the <code>"claims"</code> request parameter. </p>

</div>
</div>
<a id="a5ec7c0abd4175b95461bd00f88aac42f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec7c0abd4175b95461bd00f88aac42f">&#9670;&nbsp;</a></span>Ticket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Ticket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The ticket issued from Authlete's <code>/api/auth/authorization</code> API to the authorization server implementation. This ticket is necessary to call the <code>/api/auth/authorization/issue</code> API or the <code>/api/auth/authorization/fail</code> API. </p>

</div>
</div>
<a id="a1d1299301e893485fc9ab78cb96ae18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d1299301e893485fc9ab78cb96ae18c">&#9670;&nbsp;</a></span>UiLocales</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string [] UiLocales</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of preferred languages and scripts for the user interface. The value of this property comes from the <code>"ui_locales"</code> request parameter. </p>
<p>See <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest">3.1.2.1. Authentication Request</a> of <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a> for the <code>"ui_locales"</code> request parameter. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Authlete/Dto/AuthorizationResponse.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_authlete.html">Authlete</a></li><li class="navelem"><a class="el" href="namespace_authlete_1_1_dto.html">Dto</a></li><li class="navelem"><a class="el" href="class_authlete_1_1_dto_1_1_authorization_response.html">AuthorizationResponse</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
