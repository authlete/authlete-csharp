<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Authlete: UserInfoIssueResponse Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Authlete
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_authlete_1_1_dto_1_1_user_info_issue_response.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#properties">Properties</a> &#124;
<a href="class_authlete_1_1_dto_1_1_user_info_issue_response-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">UserInfoIssueResponse Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Response from Authlete's <code>/api/auth/userinfo/issue</code> API.  
 <a href="class_authlete_1_1_dto_1_1_user_info_issue_response.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for UserInfoIssueResponse:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_authlete_1_1_dto_1_1_user_info_issue_response.png" usemap="#UserInfoIssueResponse_map" alt=""/>
  <map id="UserInfoIssueResponse_map" name="UserInfoIssueResponse_map">
<area href="class_authlete_1_1_dto_1_1_api_response.html" title="The base class for classes that represent responses from Authlete APIs. " alt="ApiResponse" shape="rect" coords="0,0,143,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:aba3bf1329a35cc2f46eb62bb88a52dac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_authlete_1_1_dto.html#a2b6040195f58641b39f4b39e7d5f3e89">UserInfoIssueAction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_user_info_issue_response.html#aba3bf1329a35cc2f46eb62bb88a52dac">Action</a><code> [get, set]</code></td></tr>
<tr class="memdesc:aba3bf1329a35cc2f46eb62bb88a52dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">The next action that the userinfo endpoint should take.  <a href="#aba3bf1329a35cc2f46eb62bb88a52dac">More...</a><br /></td></tr>
<tr class="separator:aba3bf1329a35cc2f46eb62bb88a52dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67bc0fd60e288194bc360bd6a319e6c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_user_info_issue_response.html#ae67bc0fd60e288194bc360bd6a319e6c">ResponseContent</a><code> [get, set]</code></td></tr>
<tr class="memdesc:ae67bc0fd60e288194bc360bd6a319e6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The response content which can be used as the entity body of the response returned from the userinfo endpoint implementation to the client application.  <a href="#ae67bc0fd60e288194bc360bd6a319e6c">More...</a><br /></td></tr>
<tr class="separator:ae67bc0fd60e288194bc360bd6a319e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_class_authlete_1_1_dto_1_1_api_response"><td colspan="2" onclick="javascript:toggleInherit('properties_class_authlete_1_1_dto_1_1_api_response')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="class_authlete_1_1_dto_1_1_api_response.html">ApiResponse</a></td></tr>
<tr class="memitem:a90ab9c1807ec222e7723930c865b8266 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_api_response.html#a90ab9c1807ec222e7723930c865b8266">ResultCode</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a90ab9c1807ec222e7723930c865b8266 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="mdescLeft">&#160;</td><td class="mdescRight">The code of the result of an Authlete API call. For example, <code>"A004001"</code>.  <a href="class_authlete_1_1_dto_1_1_api_response.html#a90ab9c1807ec222e7723930c865b8266">More...</a><br /></td></tr>
<tr class="separator:a90ab9c1807ec222e7723930c865b8266 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206805878e588022df32dd7e8fa4d5f1 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_api_response.html#a206805878e588022df32dd7e8fa4d5f1">ResultMessage</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a206805878e588022df32dd7e8fa4d5f1 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="mdescLeft">&#160;</td><td class="mdescRight">The message of the result of an Authlete API call. For example, <em>"[A001202] /client/get/list,
Authorization header is missing."</em>  <a href="class_authlete_1_1_dto_1_1_api_response.html#a206805878e588022df32dd7e8fa4d5f1">More...</a><br /></td></tr>
<tr class="separator:a206805878e588022df32dd7e8fa4d5f1 inherit properties_class_authlete_1_1_dto_1_1_api_response"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Response from Authlete's <code>/api/auth/userinfo/issue</code> API. </p>
<p>Authlete's <code>/api/auth/userinfo/issue</code> API returns JSON which can be mapped to this class. The <a href="http://openid.net/specs/openid-connect-core-1_0.html#UserInfo">userinfo endpoint</a> implementation should retrieve the value of the <code>"action"</code> response parameter (which can be obtained via the <code>Action</code> property of this class) from the response and take the following steps according to the value. </p>
<p>When the value of the <code>Action</code> property is <code>UserInfoIssueAction.INTERNAL_SERVER_ERROR</code>, it means that the request from your system was wrong or that an error occurred in Authlete. In either case, from a viewpoint of the client application, it is an error on the server side. Therefore, the userinfo endpoint implementation should generate a response to the client application with the HTTP status of <code>"500 Internal Server
Error"</code>. </p>
<p>In this case, the <code>ResponseContent</code> property returns a string which describes the error in the format of <a href="http://tools.ietf.org/html/rfc6750">RFC 6750</a> (OAuth 2.0 Bearer Token Usage), so the userinfo endpoint implementation of your system can use the string returned from the property as the value of the <code>WWW-Authenticate</code> header. The following is an example response which complies with RFC 6750. Note that OpenID Connect Core 1.0 requires that an error response from the userinfo endpoint comply with RFC 6750. See <a href="http://openid.net/specs/openid-connect-core-1_0.html#UserInfoError">5.3.3. UserInfoResponse</a> for details. </p>
<div class="fragment"><div class="line">HTTP/1.1 500 Internal Server Error</div><div class="line">WWW-Authenticate: (The value returned from <a class="code" href="class_authlete_1_1_dto_1_1_user_info_issue_response.html#ae67bc0fd60e288194bc360bd6a319e6c">ResponseContent</a>)</div><div class="line">Cache-Control: no-store</div><div class="line">Pragram: no-cache</div></div><!-- fragment --><p>When the value of the <code>Action</code> property is <code>UserInfoIssueAction.BAD_REQUEST</code>, it means that the request from the client application does not contain an access token (= the request from your system to Authlete does not contain the <code>"token"</code> request parameter). </p>
<p>In this case, the <code>ResponseContent</code> property returns a string which describes the error in the format of <a href="http://tools.ietf.org/html/rfc6750">RFC 6750</a> (OAuth 2.0 Bearer Token Usage), so the userinfo endpoint implementation can use the string returned from the property as the value of the <code>WWW-Authenticate</code> header. The following is an example response from the userinfo endpoint to the client application. </p>
<div class="fragment"><div class="line">HTTP/1.1 400 Bad Request</div><div class="line">WWW-Authenticate: (The value returned from <a class="code" href="class_authlete_1_1_dto_1_1_user_info_issue_response.html#ae67bc0fd60e288194bc360bd6a319e6c">ResponseContent</a>)</div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div></div><!-- fragment --><p>When the value of the <code>Action</code> property is <code>UserInfoIssueAction.UNAUTHORIZED</code>, it means that the access token does not exist, has expired, or is not associated with any subject (= any end-user). </p>
<p>In this case, the <code>ResponseContent</code> property returns a string which describes the error in the format of <a href="http://tools.ietf.org/html/rfc6750">RFC 6750</a> (OAuth 2.0 Bearer Token Usage), so the userinfo endpoint implementation can use the string returned from the property as the value of the <code>WWW-Authenticate</code> header. The following is an example response from the userinfo endpoint to the client application. </p>
<div class="fragment"><div class="line">HTTP/1.1 401 Unauthorized</div><div class="line">WWW-Authenticate: (The value returned from <a class="code" href="class_authlete_1_1_dto_1_1_user_info_issue_response.html#ae67bc0fd60e288194bc360bd6a319e6c">ResponseContent</a>)</div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div></div><!-- fragment --><p>When the value of the <code>Action</code> property is <code>UserInfoIssueAction.FORBIDDEN</code>, it means that the access token does not have the <code>"openid"</code> scope. </p>
<p>In this case, the <code>ResponseContent</code> property returns a string which describes the error in the format of <a href="http://tools.ietf.org/html/rfc6750">RFC 6750</a> (OAuth 2.0 Bearer Token Usage), so the userinfo endpoint implementation can use the string returned from the property as the value of the <code>WWW-Authenticate</code> header. The following is an example response from the userinfo endpoint to the client application. </p>
<div class="fragment"><div class="line">HTTP/1.1 403 Forbidden</div><div class="line">WWW-Authenticate: (The value returned from <a class="code" href="class_authlete_1_1_dto_1_1_user_info_issue_response.html#ae67bc0fd60e288194bc360bd6a319e6c">ResponseContent</a>)</div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div></div><!-- fragment --><p>When the value of the <code>Action</code> property is <code>UserInfoIssueAction.JSON</code>, it means that the access token which the client application presented is valid and a userinfo response was successfully generated in the format of JSON. </p>
<p>The userinfo endpoint of your system is expected to generate a response to the client application. The content type of the response must be <code>"application/json"</code>. </p>
<p>In this case, the <code>ResponseContent</code> property returns a userinfo response in JSON format, so a response to the client can be built like below. </p>
<div class="fragment"><div class="line">HTTP/1.1 200 <a class="code" href="namespace_authlete_1_1_dto.html#a3f71cf061e6190c765df8409536d3d47ae0aa021e21dddbd6d8cecec71e9cf564">OK</a></div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div><div class="line">Content-Type: application/json;charset=UTF-8</div><div class="line"></div><div class="line">(The value returned from <a class="code" href="class_authlete_1_1_dto_1_1_user_info_issue_response.html#ae67bc0fd60e288194bc360bd6a319e6c">ResponseContent</a>)</div></div><!-- fragment --><p>When the value of the <code>Action</code> property is <code>UserInfoIssueAction.JWT</code>, it means that the access token which the client application presented is valid and a userinfo response was successfully generated in the format of JWT (<a href="https://tools.ietf.org/html/rfc7519">RFC 7519</a>). </p>
<p>The userinfo endpoint of your system is expected to generate a response to the client application. The content type of the response must be <code>"application/jwt"</code>. </p>
<p>In this case, the <code>ResponseContent</code> property returns a userinfo response in JWT format, so a response to the client can be built like below. </p>
<div class="fragment"><div class="line">HTTP/1.1 200 <a class="code" href="namespace_authlete_1_1_dto.html#a3f71cf061e6190c765df8409536d3d47ae0aa021e21dddbd6d8cecec71e9cf564">OK</a></div><div class="line">Cache-Control: no-store</div><div class="line">Pragma: no-cache</div><div class="line">Content-Type: application/jwt</div><div class="line"></div><div class="line">(The value returned from ResponseContent)</div></div><!-- fragment --> </div><h2 class="groupheader">Property Documentation</h2>
<a id="aba3bf1329a35cc2f46eb62bb88a52dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba3bf1329a35cc2f46eb62bb88a52dac">&#9670;&nbsp;</a></span>Action</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_authlete_1_1_dto.html#a2b6040195f58641b39f4b39e7d5f3e89">UserInfoIssueAction</a> Action</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The next action that the userinfo endpoint should take. </p>

</div>
</div>
<a id="ae67bc0fd60e288194bc360bd6a319e6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae67bc0fd60e288194bc360bd6a319e6c">&#9670;&nbsp;</a></span>ResponseContent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ResponseContent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The response content which can be used as the entity body of the response returned from the userinfo endpoint implementation to the client application. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Authlete/Dto/UserInfoIssueResponse.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_authlete.html">Authlete</a></li><li class="navelem"><a class="el" href="namespace_authlete_1_1_dto.html">Dto</a></li><li class="navelem"><a class="el" href="class_authlete_1_1_dto_1_1_user_info_issue_response.html">UserInfoIssueResponse</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
