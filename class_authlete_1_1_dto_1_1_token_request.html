<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Authlete: TokenRequest Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Authlete
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_authlete_1_1_dto_1_1_token_request.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#properties">Properties</a> &#124;
<a href="class_authlete_1_1_dto_1_1_token_request-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TokenRequest Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Request to Authlete's <code>/api/auth/token</code> API.  
 <a href="class_authlete_1_1_dto_1_1_token_request.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a8d3a8621f80f293b8be755e44c62d18b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_token_request.html#a8d3a8621f80f293b8be755e44c62d18b">Parameters</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a8d3a8621f80f293b8be755e44c62d18b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Token request parameters which the token endpoint implementation of your authorization server received from a client application. The value of this request parameter is the entire entity body (which is formatted in <code>application/x-www-form-urlencoded</code>) of the request from the client application. This request parameter is mandatory.  <a href="#a8d3a8621f80f293b8be755e44c62d18b">More...</a><br /></td></tr>
<tr class="separator:a8d3a8621f80f293b8be755e44c62d18b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafe8b143d232fc8175b4f51af732863f"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_token_request.html#aafe8b143d232fc8175b4f51af732863f">ClientId</a><code> [get, set]</code></td></tr>
<tr class="memdesc:aafe8b143d232fc8175b4f51af732863f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The client ID extracted from the <code>Authorization</code> header of the token request from the client application.  <a href="#aafe8b143d232fc8175b4f51af732863f">More...</a><br /></td></tr>
<tr class="separator:aafe8b143d232fc8175b4f51af732863f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4e8a9384e3c24ea1bce80875ab6b54"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_token_request.html#a1f4e8a9384e3c24ea1bce80875ab6b54">ClientSecret</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a1f4e8a9384e3c24ea1bce80875ab6b54"><td class="mdescLeft">&#160;</td><td class="mdescRight">The client secret extracted from the <code>Authorization</code> header of the token request from the client application.  <a href="#a1f4e8a9384e3c24ea1bce80875ab6b54">More...</a><br /></td></tr>
<tr class="separator:a1f4e8a9384e3c24ea1bce80875ab6b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15755995ab2ca9587d4c24b5735aa51e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_token_request.html#a15755995ab2ca9587d4c24b5735aa51e">ClientCertificate</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a15755995ab2ca9587d4c24b5735aa51e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The client certificate from the MTLS of the token request from the client application.  <a href="#a15755995ab2ca9587d4c24b5735aa51e">More...</a><br /></td></tr>
<tr class="separator:a15755995ab2ca9587d4c24b5735aa51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6ab7c5d23e9d75a59c0595620fdb51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_authlete_1_1_dto_1_1_property.html">Property</a> []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_token_request.html#a9b6ab7c5d23e9d75a59c0595620fdb51">Properties</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a9b6ab7c5d23e9d75a59c0595620fdb51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra properties to be associated with an access token which may be issued as a result of the token request.  <a href="#a9b6ab7c5d23e9d75a59c0595620fdb51">More...</a><br /></td></tr>
<tr class="separator:a9b6ab7c5d23e9d75a59c0595620fdb51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb595b255a439a0da6f85ea14c221f1"><td class="memItemLeft" align="right" valign="top">string []&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_authlete_1_1_dto_1_1_token_request.html#a8fb595b255a439a0da6f85ea14c221f1">ClientCertificatePath</a><code> [get, set]</code></td></tr>
<tr class="memdesc:a8fb595b255a439a0da6f85ea14c221f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The certificate path presented by the client during client authentication.  <a href="#a8fb595b255a439a0da6f85ea14c221f1">More...</a><br /></td></tr>
<tr class="separator:a8fb595b255a439a0da6f85ea14c221f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Request to Authlete's <code>/api/auth/token</code> API. </p>
<p>An entity body of a token request may contain the client ID (<code>client_id</code>) and the client secret (<code>client_secret</code>) along with other request parameters as described in <a href="https://tools.ietf.org/html/rfc6749#section-2.3.1">2.3.1. Client Password</a> of <a href="https://tools.ietf.org/html/rfc6749">RFC 6749</a>. If client credentials are contained both in the <code>Authorization</code> header and in the entity body, they must be identical. If they do not match, Authlete's <code>/api/auth/token</code> API reports an error. It is not an error of your authorization server implementation but an error of the client application. </p>
</div><h2 class="groupheader">Property Documentation</h2>
<a id="a15755995ab2ca9587d4c24b5735aa51e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15755995ab2ca9587d4c24b5735aa51e">&#9670;&nbsp;</a></span>ClientCertificate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ClientCertificate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The client certificate from the MTLS of the token request from the client application. </p>
<p>Since version 1.0.8. </p>

</div>
</div>
<a id="a8fb595b255a439a0da6f85ea14c221f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb595b255a439a0da6f85ea14c221f1">&#9670;&nbsp;</a></span>ClientCertificatePath</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string [] ClientCertificatePath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The certificate path presented by the client during client authentication. </p>
<p>These certificates are string in PEM format. </p>
<p>Since version 1.1.0. </p>

</div>
</div>
<a id="aafe8b143d232fc8175b4f51af732863f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafe8b143d232fc8175b4f51af732863f">&#9670;&nbsp;</a></span>ClientId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ClientId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The client ID extracted from the <code>Authorization</code> header of the token request from the client application. </p>
<p>If the token endpoint of the authorization server supports Basic Authentication as a means of <a href="https://tools.ietf.org/html/rfc6749#section-2.3">client authentication</a>, and if the request from the client application contained its client ID in the <code>Authorization</code> header, the value should be extracted from there and set as the value of this request parameter. </p>

</div>
</div>
<a id="a1f4e8a9384e3c24ea1bce80875ab6b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4e8a9384e3c24ea1bce80875ab6b54">&#9670;&nbsp;</a></span>ClientSecret</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string ClientSecret</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The client secret extracted from the <code>Authorization</code> header of the token request from the client application. </p>
<p>If the token endpoint of the authorization server supports Basic Authentication as a means of <a href="https://tools.ietf.org/html/rfc6749#section-2.3">client authentication</a>, and if the request from the client application contained its client secret in the <code>Authorization</code> header, the value should be extracted from there and set as the value of this request parameter. </p>

</div>
</div>
<a id="a8d3a8621f80f293b8be755e44c62d18b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3a8621f80f293b8be755e44c62d18b">&#9670;&nbsp;</a></span>Parameters</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Parameters</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Token request parameters which the token endpoint implementation of your authorization server received from a client application. The value of this request parameter is the entire entity body (which is formatted in <code>application/x-www-form-urlencoded</code>) of the request from the client application. This request parameter is mandatory. </p>

</div>
</div>
<a id="a9b6ab7c5d23e9d75a59c0595620fdb51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b6ab7c5d23e9d75a59c0595620fdb51">&#9670;&nbsp;</a></span>Properties</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_authlete_1_1_dto_1_1_property.html">Property</a> [] Properties</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">set</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extra properties to be associated with an access token which may be issued as a result of the token request. </p>
<p>If the value of the <code>"grant_type"</code> parameter contained in the token request from the client application is <code>"authorization_code"</code>, properties set by this request parameter will be added as the extra properties of a newly created access token. The extra properties specified when the authorization code was issued (using <code>AuthorizationIssueRequest.Properties</code>) will also be used, but their values will be overwritten if the extra properties set by this request parameter have the same keys. In other words, extra properties contained in this request will be merged into existing extra properties which are associated with the authorization code. </p>
<p>Otherwise, if the value of the <code>"grant_type"</code> parameter contained in the token request from the client application is <code>"refresh_token"</code>, properties set by this request parameter will be added to the existing extra properties of the corresponding access token. Extra properties having the same keys will be overwritten in the same manner as the case of <code>grant_type=authorization_code</code>. </p>
<p>Otherwise, if the value of the <code>"grant_type"</code> parameter contained in the token request from the client application is <code>"client_credentials"</code>, properties set by this request parameter will be used simply as extra properties of a newly created access token. Because <a href="https://tools.ietf.org/html/rfc6749#section-4.4">Client Credentials flow</a> does not have a preceding authorization request, merging extra properties will not be performed. This is different from the cases of <code>grant_type=authorization_code</code> and <code>grant_type=refresh_token</code>. </p>
<p>In other cases (<code>grant_type=password</code>), properties set by this request parameter will not be used. When you want to associate extra properties with an access token which is issued by <a href="https://tools.ietf.org/html/rfc6749#section-4.3">Resource Owner Password Credentials flow</a>, use <code>TokenIssueRequest.Properties</code> instead. </p>
<p>Keys of extra properties will be used as labels of top-level entries in a JSON response containing an access token which is returned from an authorization server. An example is <code>example_parameter</code>, which you can find in <a href="https://tools.ietf.org/html/rfc6749#section-5.1">5.1. Successful Response</a> of <a href="https://tools.ietf.org/html/rfc6749">RFC 6749</a>. The following code snippet is an example to set one extra property having <code>"example_parameter"</code> as its key and <code>"example_value"</code> as its value. </p>
<div class="fragment"><div class="line">request.Properties = <span class="keyword">new</span> Property[] {</div><div class="line">    <span class="keyword">new</span> Property(<span class="stringliteral">&quot;example_parameter&quot;</span>, <span class="stringliteral">&quot;example_value&quot;</span>)</div><div class="line">};</div></div><!-- fragment --><p>Keys listed below should not be used and they would be ignored on Authlete side even if they were used. It's because they are reserved in <a href="https://tools.ietf.org/html/rfc6749">RFC 6749</a> and <a href="https://openid.net/specs/openid-connect-core-1_0.html">OpenID OpenID Connect Core 1.0</a>. </p>
<ul>
<li>
<code>token_type</code> </li>
<li>
<code>expires_in</code> </li>
<li>
<code>refresh_token</code> </li>
<li>
<code>scope</code> </li>
<li>
<code>error</code> </li>
<li>
<code>error_description</code> </li>
<li>
<code>error_uri</code> </li>
<li>
<code>id_token</code> </li>
</ul>
<p>Note that there is an upper limit on the total size of extra properties. On the server side, the properties will be (1) converted to a multidimensional string array, (2) converted to JSON, (3) encrypted by AES/CBC/PKCS5Padding, (4) encoded by base64url, and then stored into the database. The length of the resultant string must not exceed 65,535 in bytes. This is the upper limit, but we think it is big enough. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Authlete/Dto/TokenRequest.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_authlete.html">Authlete</a></li><li class="navelem"><a class="el" href="namespace_authlete_1_1_dto.html">Dto</a></li><li class="navelem"><a class="el" href="class_authlete_1_1_dto_1_1_token_request.html">TokenRequest</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
